if (self.CavalryLogger) { CavalryLogger.start_js(["CfZzA"]); }

__d('MessengerTypeaheadView.react',['cx','immutable','MessengerContactAdapters','MessengerContactList.react','MessengerTypeaheadUtils','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:this.props.highlightedEntry,isLoading:this.props.isLoading,listSections:c('MessengerTypeaheadUtils').buildListSections(this.props.entries,this.props.queryString),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,invitedEntryIDs:this.props.invitedEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer}));};function l(){i.apply(this,arguments);}l.propTypes={ariaOwneeID:k.string,entries:k.array.isRequired,hasHoverState:k.bool,highlightedEntry:k.object,isLoading:k.bool,onHighlight:k.func,onRenderHighlight:k.func,onScrollIntoView:k.func,onSelect:k.func,originalEntryIDs:k.instanceOf(c('immutable').Set),invitedEntryIDs:k.instanceOf(c('immutable').Set),queryString:k.string,selectedEntryIDs:k.instanceOf(c('immutable').Set),viewer:k.string.isRequired};f.exports=l;}),null);
__d('MessengerScrollableTypeaheadView.react',['MessengerScrollableArea.react','MessengerTypeaheadUtils','MessengerTypeaheadView.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$MessengerScrollableTypeaheadView1=function(p){c('MessengerTypeaheadUtils').scrollEntryIntoView(p,this.refs.scrollable);}.bind(this),l;}j.prototype.render=function(){var k=this.props,l=k.className,m=k.width,n=babelHelpers.objectWithoutProperties(k,['className','width']);return c('React').createElement(c('MessengerScrollableArea.react'),{className:l,ref:'scrollable',width:m},c('React').createElement(c('MessengerTypeaheadView.react'),babelHelpers['extends']({},n,{onScrollIntoView:this.$MessengerScrollableTypeaheadView1})));};f.exports=j;}),null);
__d('MessengerTokenizer.react',['cx','invariant','AbstractTokenizer.react','immutable','React','SearchableEntry','MessengerScrollableTypeaheadView.react','MessengerTokenizerToken.react','MessengerTypeaheadUtils','TypeaheadNavigation','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=30;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),o.call(this),q;}n.prototype.componentDidMount=function(){if(this.props.autoFocus)this.focusInput();};n.prototype.render=function(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_14-7")},c('React').createElement(c('AbstractTokenizer.react'),{autoHighlight:this.props.hasHoverState,context:this.props.context,entries:this.props.entries.toArray(),excludeTokenEntries:!!this.state.queryString,extraTypeaheadProps:{spellCheck:false},hideViewWithEntries:this.props.hideViewWithEntries,onAddEntryAttempt:this.$MessengerTokenizer3,onEntriesFound:this.props.onEntriesFound,onQueryStringChange:this.$MessengerTokenizer4,onRemoveEntryAttempt:this.props.onRemoveEntryAttempt,onReorderEntryAttempt:this.props.onReorderEntryAttempt,navigation:{moveUp:this.$MessengerTokenizer1,moveDown:this.$MessengerTokenizer2},placeholder:this.props.placeholder,presenter:{ViewRenderer:c('MessengerScrollableTypeaheadView.react'),TokenRenderer:c('MessengerTokenizerToken.react'),alwaysVisibleOnFocus:(this.state.isLoading||this.state.isLoaded)&&!!this.state.queryString,useLayer:this.props.useLayer,extraRendererProps:babelHelpers['extends']({hasHoverState:this.props.hasHoverState,isLoading:this.state.isLoading,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:c('immutable').Seq(this.props.entries).map(function(p){return p.getUniqueID();}).toSet(),viewer:this.props.viewer},this.props.extraRendererProps),maxEntries:m,sortEntries:this.$MessengerTokenizer5},queryString:this.state.queryString,ref:'tokenizer',searchSource:this.props.searchSource,searchSourceOptions:{onQueryFinished:this.$MessengerTokenizer6,onQueryStarted:this.$MessengerTokenizer7,showDefaultEntries:this.props.showDefaultEntries},showEntriesOnFocus:true,tabIndex:this.props.tabIndex&&this.props.tabIndex.toString()})));};n.propTypes={autoFocus:l.bool,className:l.string,context:l.object,entries:l.instanceOf(c('immutable').List).isRequired,excludeGroups:l.bool,extraRendererProps:l.object,hasHoverState:l.bool,hideViewWithEntries:l.bool,onAddEntryAttempt:l.func.isRequired,onEntriesFound:l.func,onRemoveEntryAttempt:l.func.isRequired,onReorderEntryAttempt:l.func,originalEntryIDs:l.instanceOf(c('immutable').Set),placeholder:l.string,searchSource:l.object.isRequired,tabIndex:l.number,useLayer:l.bool,viewer:l.string.isRequired};n.defaultProps={excludeGroups:false,hideViewWithEntries:true};var o=function p(){this.state={isLoading:false,isLoaded:false,queryString:''};this.$MessengerTokenizer1=function(q){for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];c('TypeaheadNavigation').moveUp.apply(c('TypeaheadNavigation'),[c('MessengerTypeaheadUtils').orderEntries(q,this.state.queryString)].concat(s));}.bind(this);this.$MessengerTokenizer2=function(q){for(var r=arguments.length,s=Array(r>1?r-1:0),t=1;t<r;t++)s[t-1]=arguments[t];c('TypeaheadNavigation').moveDown.apply(c('TypeaheadNavigation'),[c('MessengerTypeaheadUtils').orderEntries(q,this.state.queryString)].concat(s));}.bind(this);this.$MessengerTokenizer3=function(q){this.setState({isLoaded:false,queryString:''});var r=q.getUniqueID();if(this.props.entries.some(function(s){return (s.getUniqueID()===r);})){this.props.onRemoveEntryAttempt(q);return;}if(this.props.originalEntryIDs&&this.props.originalEntryIDs.contains(r))return;this.props.onAddEntryAttempt(q);}.bind(this);this.$MessengerTokenizer5=function(q){if(this.props.entries.size||this.props.excludeGroups)return c('MessengerTypeaheadUtils').sortEntriesWithoutGroupsOrViewer(q,this.props.viewer);return c('MessengerTypeaheadUtils').sortEntries(q,this.state.queryString);}.bind(this);this.focusInput=function(){setTimeout(function(){this.refs.tokenizer&&this.refs.tokenizer.focusInput();}.bind(this));}.bind(this);this.$MessengerTokenizer7=function(q){if(q===this.state.queryString)this.setState({isLoading:true});}.bind(this);this.$MessengerTokenizer6=function(q){if(q===this.state.queryString)this.setState({isLoaded:true,isLoading:false});}.bind(this);this.$MessengerTokenizer4=function(event){!(event.target instanceof HTMLInputElement)?i(0):void 0;this.setState({isLoaded:false,queryString:event.target.value});}.bind(this);};f.exports=n;}),null);