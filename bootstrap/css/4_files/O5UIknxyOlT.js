if (self.CavalryLogger) { CavalryLogger.start_js(["AeDX0"]); }

__d('MercuryVideoShareXMA.react',['cx','MessengerVideoPlayer.react','MercuryVideoShareXMATextBlock.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=181;i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;m.prototype.render=function(){var n=this.$MercuryVideoShareXMA1(this.props.attachment),o=this.$MercuryVideoShareXMA2(n);return (c('React').createElement('div',{className:"_3duc"},o,this.$MercuryVideoShareXMA3(n&&n.original_dimensions)));};m.prototype.$MercuryVideoShareXMA2=function(n){return n?c('React').createElement(c('MessengerVideoPlayer.react'),{attachment:this.props.attachment,videoData:n,isInThread:true,isVisible:this.props.isVisible,className:c('joinClasses')(this.props.className,"_n4o"+(' '+"_3_om")+(' '+"_1wno"))}):null;};m.prototype.$MercuryVideoShareXMA1=function(n){if(!n.media||!n.media.image_size||!n.target||!n.target.video_id)return null;var o=n.media.image_size;return {legacy_attachment_id:n.target.video_id,original_dimensions:this.$MercuryVideoShareXMA4(o),start_muted:true,no_autoplay:true,hide_controls_on_finish:true,url:n.media.image,is_share:true};};m.prototype.$MercuryVideoShareXMA4=function(n){var o=Math.max(n.width,n.height);if(o<=l)return {x:n.width,y:n.height};var p=l/o,q=Math.ceil(n.width*p),r=Math.ceil(n.height*p);return {x:q,y:r};};m.prototype.$MercuryVideoShareXMA3=function(n){var o=this.props.attachment;return (c('React').createElement(c('MercuryVideoShareXMATextBlock.react'),{description:o.description,source:o.source,title:o.video_title,url:o.uri,width:n&&n.x}));};function m(){i.apply(this,arguments);}m.propTypes={attachment:k.object.isRequired,isVisible:k.bool,onClick:k.func};f.exports=m;}),null);